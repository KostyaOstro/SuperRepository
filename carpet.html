<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        var canvas, ctx, gsc;
        var time = 0;
        var w = 1024;
        var h = 512;
        var mCanvas = [];
        var mctx = [];
        window.onload = function () {
            gsc = rSeed(5);

            canvas = document.createElement("canvas");
            canvas.height = h;
            canvas.width = w;
            document.body.appendChild(canvas);
            ctx = canvas.getContext("2d");

            carpet.init();
            carpet.draw();
            //animate();

        }
        var carpet = {
            tileNum: 1,
            tile: [],
            init() {
                for (let i = 0; i < this.tileNum; i++) {
                    this.tile[i] = {
                        s: rSeed(20) + 10,
                        h: random(h / 20, h / 10),
                    }
                    mctx[i] = initCanvas(
                        mCanvas[i],
                        w / this.tile[i].s,
                        this.tile[i].h
                    )
                    mctx[i].fillRect(
                        w / this.tile[i].s / 2 - 8,
                        this.tile[i].h / 2 - 8,
                        16,
                        16
                    )
                }
            },
            draw() {
                for (let i = 0; i < this.tileNum; i++) {
                    for (let j = 0; j < 4; j++) {
                        ctx.save();
                        switch (j) {
                            case 0:
                                ctx.translate(0, 0);
                                var ww=w;
                                break;
                            case 1:
                                ctx.translate(w, 0);
                                ctx.rotate(j * Math.PI);
                                var ww=h;
                                break;
                            case 2:
                                ctx.translate(w, h);
                                ctx.rotate(j * Math.PI);
                                var ww=w;
                                break;
                            case 3:
                                ctx.translate(0, h);
                                ctx.rotate(j * Math.PI);
                                var ww=h
                                break;

                        }
                        ctx.restore();
                    }

                }
            }
        }

        function initCanvas(canvas, w, h) {
            canvas = document.createElement("canvas");
            canvas.height = h;
            canvas.width = w;
            document.body.appendChild(canvas);
            ctx = canvas.getContext("2d");
            return ctx;
        }

        function animate() {

            requestAnimationFrame(animate);
            time++
        }

        function rColor(s) {
            var seed = Math.round(Math.random() * 4);
            var color = [];
            color[0] = ["#571845", "#900c3e", "#c70039", "#ff5733", "#ffc300"];
            color[1] = ["#96ceb4", "#ffeead", "#ff6f69", "#ffcc5c", "#88d8b0"];
            color[2] = ["#173f5f", "#20639b", "#3caea3", "#f6d55c", "#ed553b"];
            color[3] = ["#999", "#777", "#555", "#333", "#111"];
            color[4] = ["#ffa239", "#c8e6c9", "#81c784", "#4caf50", "#ffe789"];
            color[5] = ["#428", "#6ca2ea", "#b5d33d", "#fed23f", "#eb7d5b"];
            var rgb = color[s][seed];
            return rgb;
        };

        function random(minR, maxR) {
            var r = minR + (maxR - minR) * Math.random();
            return r
        };

        function rSeed(value) {
            var seed = Math.round(Math.random() * value);
            return seed
        };
    </script>
</head>

<body>

</body>

</html>