<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="/javascripts/myLib.js"></script>
    <title>Document</title>

</head>

<body>
    <script>
        var time = 0;
        var w = h = 1024;

        var canvas = document.createElement("canvas");
        canvas.width = w;
        canvas.height = h;
        var ctx = canvas.getContext("2d");
        document.body.appendChild(canvas);
        ctx.fillRect(
            0, 0,
            w, h
        );
        var copies = 6;

        ctx.lineCap = "round";
        

        var line = {
            a: rSeed(16) * Math.PI / 8,
            x: [],
            y: [],
            draw() {
                
                for (let i = 0; i < copies; i++) {
                    let of = w / 4;
                    ctx.fillStyle = "white";
                    let x0 = random( of , w - of );
                    let y0 = random( of , h - of );
                    let r = random(w / 20, w / 6);
                    ctx.beginPath();
                    ctx.arc(
                        x0,
                        y0,
                        r,
                        0,
                        Math.PI * 2
                    )
                    ctx.fill()

                }
                for (let i = 0; i < copies; i++) {
                    let of = w / 3;
                    let x0 = random( of , w - of );
                    let y0 = random( of , h - of );

                    let l = random(w / 10, w / 3);
                    this.x[i] = [];
                    this.y[i] = [];
                    for (let j = 0; j < 3; j++) {
                        let a2 = this.a + rSeed(1) * Math.PI / 4;
                        this.x[i][j] = x0 + Math.cos(a2) * l / 3;
                        this.y[i][j] = y0 + Math.sin(a2) * l / 3;

                        x0 = this.x[i][j];
                        y0 = this.y[i][j]
                    }
                    ctx.lineJoin = "round";
                    ctx.strokeStyle = "white";
                    ctx.lineWidth = w / 20;
                    ctx.beginPath();
                    for (let j = 0; j < 3; j++) {
                        if (j == 0) {
                            ctx.moveTo(this.x[i][j], this.y[i][j]);
                        } else {
                            ctx.lineTo(this.x[i][j], this.y[i][j]);
                        }
                        
                    }
                    ctx.stroke();


                    ctx.strokeStyle = "black";
                    ctx.lineWidth = w / 20 - 20;
                    ctx.beginPath();
                    for (let j = 0; j < 3; j++) {
                        if (j == 0) {
                            ctx.moveTo(this.x[i][j], this.y[i][j]);
                        } else {
                            ctx.lineTo(this.x[i][j], this.y[i][j]);
                        }
                        
                    }
                    ctx.stroke();
                }
            }
        }
        line.draw();




        function animate() {

            requestAnimationFrame(animate);
            time += .01;
        }
    </script>
</body>

</html>