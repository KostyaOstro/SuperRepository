<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css?family=Maven+Pro:900" rel="stylesheet">
</head>
<style>
    * {
        font-family: 'Maven Pro', sans-serif;
    }
</style>
<script>
    var ctx, txt;
    var xScale = 5;
    var ws = 100;
    var hs = 100;
    var w = ws * xScale;
    var h = hs * xScale;
    var time = 0;
    var points = 1;
    var point = [];
    window.onload = function () {
        // var canvas = document.createElement("canvas");
        // canvas.width = w;
        // canvas.height = h;
        // document.body.appendChild(canvas);
        // ctx = canvas.getContext("2d");

        var textCanvas = document.createElement("canvas");
        textCanvas.width = ws;
        textCanvas.height = hs;
        document.body.appendChild(textCanvas);
        txt = textCanvas.getContext("2d");
        txt.fillStyle=rBgColor();
        txt.fillRect(0,0,ws,hs);
       
        txt.lineWidth=0.5;
        for (i = 0; i < points; i++) {
        point[i] = {
            speed: 3,
            x: Math.random() * ws,
            y: Math.random() * hs,
            r: 1,
            color:[rColor(),rColor()],
            angle: Math.round(Math.random() * 3) * Math.PI / 4,
            get vx() {
                return Math.cos(this.angle)
            },
            get vy() {
                return Math.sin(this.angle)
            },
            angleSpeed: Math.random() * 10 + 5,
            lwidth:[Math.random()*3,Math.random()*3],
            line: [{
                    length: 200 * Math.random(),
                    sizeSpeed: Math.random() * 30+5,
                },
                {
                    length: 200 * Math.random(),
                    sizeSpeed: Math.random() * 30+5,
                }
            ],
            timer: Math.random() * 500 + 200,
            trigger: 0,
            //color: "black",
            draw() {
                if (this.trigger > this.timer) {
                    this.timer = Math.random() * 500 + 100;
                    this.trigger = 0;
                    this.angle = Math.random()* Math.PI*2;
                    this.line[0].length= 200 * Math.random();
                    this.line[0].sizeSpeed= Math.random() * 30+5;
                    this.line[1].length= 200 * Math.random();
                    this.line[1].sizeSpeed= Math.random() * 30+5;
                    this.color[0]=rColor();
                    this.color[1]=rColor();
                    this.angleSpeed= Math.random() * 10 + 5;
                    this.lwidth=[Math.random()*3,Math.random()*3]
                };
                // console.log(this.vx,this)
                this.x += this.vx * this.speed;
                this.y += this.vy * this.speed;
                if (this.x < 0 || this.x > ws) {
                    this.angle += Math.PI
                }
                if (this.y > hs || this.y < 0) {
                    this.angle += Math.PI
                }
                txt.lineWidth=Math.abs(Math.cos(time/20))*this.lwidth[0]+0.1;
                txt.beginPath();
                txt.arc(this.x, this.y, this.r, 0, Math.PI * 2);
                txt.closePath();
                txt.strokeStyle= this.color[0];
                txt.beginPath();
                var angle = time / this.angleSpeed;
                var length1 = this.line[0].length * Math.cos(time / this.line[0].sizeSpeed);
                txt.moveTo(this.x, this.y);
                var x1 = Math.cos(angle) * length1 + this.x;
                var y1 = Math.sin(angle) * length1 + this.y;
                txt.lineTo(x1, y1);
                txt.closePath();
                txt.stroke();

                txt.strokeStyle= this.color[1];
                txt.beginPath();
                var length2 = this.line[1].length * Math.cos(time / this.line[1].sizeSpeed);
                angle += Math.PI/2;
                txt.moveTo(this.x, this.y);
                var x2 = Math.cos(angle) * length2 + this.x;
                var y2 = Math.sin(angle) * length2 + this.y;
                txt.lineTo(x2, y2);
                txt.closePath();
                txt.stroke();

                txt.lineWidth=Math.abs(Math.cos(time/20))*this.lwidth[1]+0.1;
                txt.strokeStyle= this.color[1];
                txt.beginPath();
               
                angle += Math.PI/2;
                txt.moveTo(this.x, this.y);
                var x3 = Math.cos(angle) * length2 + this.x;
                var y3 = Math.sin(angle) * length2 + this.y;
                txt.lineTo(x2, y2);
                txt.closePath();
                txt.stroke();


                this.trigger++
            }
        }
    }
        animate();
    };
    
    
   

    function draw() {
        for (i = 0; i < points; i++) {
            point[i].draw()
        }
    }


    function animate() {
        clear();
        draw();
        window.requestAnimationFrame(animate);
        time++
    }

    function clear() {
        // ctx.fillStyle = bgcolor;
        // ctx.fillRect(0, 0, w, h)
        //txt.clearRect(0,0,w,h)
    }
    function rColor() {
        var seed = Math.round(Math.random() * 6);
        switch (seed) {
            case 1:
                var r = Math.round(Math.random() * 128) + 128;
                var g = Math.round(Math.random() * 128) + 128;
                var b = 0;
                break;
            case 2:
                var r = 0; // Math.round(Math.abs(Math.sin(Math.random()) * 128)) + 128;
                var g = Math.round(Math.random() * 128) + 128;
                var b = Math.round(Math.random() * 128) + 128;
            default:
                var r = Math.round(Math.random() * 128) + 128;
                var g = 0; //Math.round(Math.abs(Math.sin(Math.random()) * 128)) + 128;
                var b = Math.round(Math.random() * 128) + 128;
                break;
        }
        var rgb = "rgba(" + r + "," + g + "," + b + ",0.5)";
        return rgb;
    }
    function rBgColor() {
            var bgL=16;
            var seed = Math.round(Math.random() * 2);
            switch (seed) {
                case 1:
                    var r = 0; // Math.round(Math.abs(Math.sin(Math.random()) * 32)) + 32;
                    var g = Math.round(Math.random() * bgL) + bgL;
                    var b = Math.round(Math.random() * bgL) + bgL;
                default:
                    var r = Math.round(Math.random() * bgL) + bgL;
                    var g = 0; //Math.round(Math.abs(Math.sin(Math.random()) * 32)) + 32;
                    var b = Math.round(Math.random() * bgL) + bgL;
                    break;
            }
            var rgb = "rgb(" + r + "," + g + "," + b + ")";
            return rgb;
        }
</script>

<body>
    77
</body>

</html>