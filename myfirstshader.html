<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="javascripts/three.js"></script>
    <script id="fragmentShader" type="x-shader/x-fragment">
        uniform float time;
        uniform vec2 resolution;
        void main()	{
            float x = mod(time + gl_FragCoord.x, 20.) < 10. ? 1. : 0.;
            float y = mod(time + gl_FragCoord.y, 20.) < 10. ? 1. : 0.;
            gl_FragColor = vec4(vec3(min(x, y)), 1.);
        }
    </script>
</head>

<body>
    <script>
        var startTime = Date.now();
        var w = window.innerWidth;
        var h = innerHeight;
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(65, w / h, 0.01, 2000);
        var renderer = new THREE.WebGLRenderer();

        camera.position.set(0, 0, 100);
        uniforms = {
            time: {
                type: "f",
                value: 1.0
            },
            resolution: {
                type: "v2",
                value: new THREE.Vector2()
            }
        };

        renderer.setSize(w, h);
        document.body.appendChild(renderer.domElement);


        var geometry = new THREE.PlaneGeometry(100, 100, 5, 5);
        var material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            fragmentShader: document.getElementById('fragmentShader').textContent
        });
        var plane = new THREE.Mesh(geometry, material)
        scene.add(plane);
        uniforms.resolution.value.x = w;
        uniforms.resolution.value.y = h;

        animate();

        function animate() {
            var elapsedMilliseconds = Date.now() - startTime;
            var elapsedSeconds = elapsedMilliseconds / 1000.;
            uniforms.time.value = 60. * elapsedSeconds;
            renderer.render(scene, camera);
            requestAnimationFrame(animate)
        }
    </script>
</body>

</html>