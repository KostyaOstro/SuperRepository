<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
</style>
<script>
    var canvas, ctx;
    var w = h = 1024;
    var time = 0;
    var gsc;
    var bgColor;
    var textColor = [];
    window.onload = function () {

        gsc = rSeed(5);
        bgColor = rColor(gsc);
        canvas = document.createElement("canvas");
        canvas.width = w;
        canvas.height = h;
        document.body.appendChild(canvas);
        ctx = canvas.getContext("2d");

        path.init();



        animate();

    }

    var path = {
        string:[
            "WIRES",
            "WIRES",
            "WIRES"
        ],
        x: [],
        y: [],
        vx: [],
        vy: [],
        num: 40,
        size: [],
        ropes: [],
        width: [],
        color: [],
        lw: [],
        as: [],
        init() {
            this.tx = random(0, w*2/3);
            this.ty = random(h/3, h);
            this.tvx = random(-1, 1);
            this.tvy = random(-1, 1);
            this.tcolor=rColor(gsc);
            for (let i = 0; i < this.num; i++) {
                this.x[i] = random(0, w);
                this.y[i] = random(0, h);
                this.vx[i] = random(-1, 1);
                this.vy[i] = random(-1, 1);
                this.size[i] = random(w / 40, w / 20);
                this.ropes[i] = rSeed(7) + 1;
                this.width[i] = random(w / 80, w / 40);
                this.color[i] = rColor(gsc);
                this.lw[i] = random(0.5, 6);
                this.as[i] = random(50, 100);

            }
        },
        draw() {
            this.tx += this.tvx;
            this.ty += this.tvy;
            if (this.tx > w-w/3 || this.tx <0) {
                this.tvx *= -1;
            }
            if (this.ty > w || this.ty < w/3) {
                this.tvy *= -1;
            }
            ctx.strokeStyle=this.tcolor;
            ctx.fillStyle=this.tcolor;
            ctx.strokeRect(
                this.tx ,
                this.ty - w / 3,
                w / 3,
                w / 3
            )
            var fs=80;
            var lh=1.2*fs;
            ctx.font=fs+"px Arial";

            for(let tt=0;tt<3;tt++){
                ctx.fillText(
                this.string[tt],
                this.tx+0.3*fs,
                this.ty-2.5*lh+lh*tt
            )
            }
            



            for (let i = 0; i < this.num; i += 3) {

                for (let j = 0; j < 4; j++) {
                    this.x[i + j] += this.vx[i + j];
                    this.y[i + j] += this.vy[i + j];
                    if (this.x[i + j] > w || this.x[i + j] < 0) {
                        this.vx[i + j] *= -1;
                    }
                    if (this.y[i + j] > w || this.y[i + j] < 0) {
                        this.vy[i + j] *= -1;
                    }
                }



                ctx.beginPath();
                if (i % 7 == 0) {
                    ctx.strokeRect(
                        this.x[i + 1] - this.size[i],
                        this.y[i + 1] - this.size[i],
                        this.size[i] * 2,
                        this.size[i] * 2
                    )
                }

                for (let ii = 0; ii < this.ropes[i]; ii++) {
                    ctx.moveTo(this.x[i], this.y[i]);
                    switch (ii) {
                        case 1:
                            ctx.bezierCurveTo(
                                this.x[i + 2] + this.width[i + 2] * Math.cos(time / this.as[i + 2]) * ii,
                                this.y[i + 2] + this.width[i + 2] * Math.sin(time / this.as[i + 2]) * ii,
                                this.x[i + 1] + this.width[i + 1] * Math.cos(time / this.as[i + 1]) * ii,
                                this.y[i + 1] + this.width[i + 1] * Math.sin(time / this.as[i + 1]) * ii,
                                this.x[i + 3],
                                this.y[i + 3]);
                            break;
                        case 2:
                            ctx.bezierCurveTo(
                                this.x[i + 1] + this.width[i + 1] * Math.cos(time / this.as[i + 1]) * ii,
                                this.y[i + 1] + this.width[i + 1] * Math.sin(time / this.as[i + 1]) * ii,
                                this.x[i + 2] + this.width[i + 2] * Math.cos(time / this.as[i + 2]) * ii,
                                this.y[i + 2] + this.width[i + 2] * Math.sin(time / this.as[i + 2]) * ii,
                                this.x[i + 3],
                                this.y[i + 3]);
                            break;
                        default:
                            ctx.bezierCurveTo(
                                this.x[i + 1] + this.width[i + 1] * Math.cos(time / this.as[i + 1]) * ii,
                                this.y[i + 2] + this.width[i + 2] * Math.sin(time / this.as[i + 2]) * ii,
                                this.x[i + 2] + this.width[i + 2] * Math.cos(time / this.as[i + 2]) * ii,
                                this.y[i + 1] + this.width[i + 1] * Math.sin(time / this.as[i + 1]) * ii,
                                this.x[i + 3],
                                this.y[i + 3]);
                            break;
                    }
                    ctx.strokeStyle = this.color[i];
                    ctx.lineWidth = this.lw[i];
                    ctx.stroke();
                }
                ctx.fillStyle = 'black';
                ctx.fillRect(
                    this.x[i] - this.size[i] / 2,
                    this.y[i] - this.size[i] / 2,
                    this.size[i],
                    this.size[i]
                );
                ctx.fillStyle =this.color[i];
                ctx.font='20px arial';
                ctx.fillText(
                    i,
                    this.x[i]-10,
                    this.y[i]+10
                );
                ctx.strokeRect(
                    this.x[i + 1] - this.size[i] / 8,
                    this.y[i + 1] - this.size[i] / 8,
                    this.size[i] / 4,
                    this.size[i] / 4
                );

            }


        }
    }

    function draw() {
        ctx.fillStyle = bgColor;
        ctx.fillRect(0, 0, w, h)
        path.draw()

    }

    function animate() {
        clear();
        draw();
        window.requestAnimationFrame(animate);
        time++
    }

    function clear() {

        ctx.clearRect(0, 0, w, h);

    }

    function rColor(s) {
        var seed = Math.round(Math.random() * 4);
        var color = [];
        color[0] = ["#571845", "#900c3e", "#c70039", "#ff5733", "#ffc300"];
        color[1] = ["#96ceb4", "#ffeead", "#ff6f69", "#ffcc5c", "#88d8b0"];
        color[2] = ["#173f5f", "#20639b", "#3caea3", "#f6d55c", "#ed553b"];
        color[3] = ["#999", "#777", "#555", "#333", "#111"];
        var rgb = color[s][seed];
        return rgb;
    }

    function random(minR, maxR) {
        var r = minR + (maxR - minR) * Math.random();
        return r
    }

    function rSeed(value) {
        var seed = Math.round(Math.random() * value);
        return seed
    }

    function dist(x1, y1, x2, y2) {
        var dx = Math.abs(x1 - x2);
        var dy = Math.abs(y1 - y2);
        var d = Math.sqrt(dx * dx + dy * dy);
        return d
    }


    function rColor(s) {
        var seed = Math.round(Math.random() * 4);
        var color = [];
        color[0] = ["#571845", "#900c3e", "#c70039", "#ff5733", "#ffc300"];
        color[1] = ["#96ceb4", "#ffeead", "#ff6f69", "#ffcc5c", "#88d8b0"];
        color[2] = ["#173f5f", "#20639b", "#3caea3", "#f6d55c", "#ed553b"];
        color[3] = ["#999", "#777", "#555", "#333", "#111"];
        color[4] = ["#ffa239", "#c8e6c9", "#81c784", "#4caf50", "#ffe789"];
        color[5] = ["#428", "#6ca2ea", "#b5d33d", "#fed23f", "#eb7d5b"];
        var rgb = color[s][seed];
        return rgb;
    }
</script>


<body>

</body>

</html>